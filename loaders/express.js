const graphqlHTTP = require('express-graphql');const bodyParser = require('body-parser');const express =  require('express');const config = require('../config');const schema = require('../graphql/resolvers');const isAuth = require('../middleware/is-auth');module.exports = ({app}) => {    app.use((req, res, next) => {        res.setHeader('Access-Control-Allow-Origin', '*');        next();    });    app.use(bodyParser.json());    app.use(bodyParser.urlencoded({extended: false}));    app.use(express.static(config.PUBLIC_ROOT));    app.use((req, res, next) => {        res.setHeader('Access-Control-Allow-Origin', '*');        res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');        res.setHeader('Access-Control-Allow-Headers', 'X-Requested-With,content-type,Authorization');        next();    });    app.use(isAuth);    app.use('/graphql', graphqlHTTP({        schema,        graphiql: true,    }));};